<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Umami Bowls</title>
	<link rel="stylesheet" href="/styles/reset.css">
	<link rel="stylesheet" href="/styles/tokens.css">
	<link rel="stylesheet" href="/styles/base.css">
	<link rel="stylesheet" href="/styles/layout.css">
	<link rel="stylesheet" href="/styles/boxes.css">
	<link rel="stylesheet" href="/styles/tastes.css">

	<script type="module">
		import { define, Auth } from "@calpoly/mustang";
		import { TastesElement } from "/src/tastes.js";
		import { HeaderElement } from "/src/header.ts";

		define({
			"tastes-element": TastesElement,
			"melon-header": HeaderElement,
			"mu-auth": Auth.Provider
		});

		window.relayDarkMode = function(event) {
			event.stopPropagation();
			const checked = event.target.checked;
			const customEvent = new CustomEvent("dark-mode:toggle", {
				bubbles: true,
				detail: { checked },
			});
			event.target.dispatchEvent(customEvent);
		}

		const page = document.body;
		page.addEventListener("dark-mode:toggle", (event) => {
			const checked = event.detail.checked;
			page.classList.toggle("dark-mode", checked);
		});
	</script>
</head>

<body>
	<mu-auth provides="melonbowl:auth">
		<header>
			<melon-header></melon-header>
		</header>
		
		<main class="with-header-spacing">
			<tastes-element 
				category="umami" 
				tastesType="Umami"
				tagline="umami salami">
			</tastes-element>
		</main>
	</mu-auth>
</body>

</html>