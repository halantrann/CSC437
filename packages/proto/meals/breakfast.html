<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Breakfast - The Melon Bowl</title>
  <link rel="stylesheet" href="/styles/reset.css">
  <link rel="stylesheet" href="/styles/tokens.css">
  <link rel="stylesheet" href="/styles/base.css">
  <link rel="stylesheet" href="/styles/layout.css">
  <link rel="stylesheet" href="/styles/boxes.css">
  <link rel="stylesheet" href="/styles/breakfast.css">
</head>

<body>
  <header>
    <div class="logo-content">
      <svg class="icon logo-icon">
        <use href="/icons/logo.svg#melonbowllogo" />
      </svg>
      <div class="title-block">
        <h1>The Melon Bowl</h1>
        <p>your pocket menu for when you don't know what to eat</p>
      </div>

      <label onchange="relayDarkMode(event)">
        <input type="checkbox" />
        Dark Mode!
      </label>

      <script>
        function relayDarkMode(event) {
          event.stopPropagation(); // prevent bubbling 

          const checked = event.target.checked;
          const customEvent = new CustomEvent(
            "dark-mode:toggle", {
            bubbles: true,
            detail: { checked },
          });

          event.target.dispatchEvent(customEvent);
        }

        const page = document.body;

        page.addEventListener("dark-mode:toggle", (event) => {
          const checked = event.detail.checked;
          page.classList.toggle("dark-mode", checked)
        })
      </script>

      <script type="module">
        import { define } from "@calpoly/mustang";
        import { MealElement } from "/src/meal.js";

        define({
          "mbowl-meal": MealElement
        })
      </script>
    </div>
  </header>

  <main class="with-header-spacing">
    <mbowl-meal 
      dialogue="Seems like you woke up early enough for breakfast today." 
      mealType="Breakfast"
      recipeLink="/meals/breakfast.html" 
      recipeName="Pandan Pancakes"></mbowl-meal>
  </main>

</body>

</html>